"use strict";(self.webpackChunkscube_v4=self.webpackChunkscube_v4||[]).push([[838],{55860:(e,t,a)=>{a.d(t,{A:()=>x});var i=a(98587),n=a(58168),r=a(96540),s=a(34164),o=a(64111),l=a(28466),c=a(11848),d=a(57548),u=a(79716),h=a(75262),p=a(27553),m=a(17245);function v(e){return(0,m.Ay)("PrivateSwitchBase",e)}(0,p.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var f=a(74848);const g=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],b=(0,c.Ay)(h.A)((({ownerState:e})=>(0,n.A)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),w=(0,c.Ay)("input",{shouldForwardProp:c.ep})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),x=r.forwardRef((function(e,t){const{autoFocus:a,checked:r,checkedIcon:c,className:h,defaultChecked:p,disabled:m,disableFocusRipple:x=!1,edge:k=!1,icon:y,id:S,inputProps:C,inputRef:A,name:j,onBlur:N,onChange:R,onFocus:$,readOnly:B,required:O=!1,tabIndex:z,type:M,value:F}=e,I=(0,i.A)(e,g),[D,_]=(0,d.A)({controlled:r,default:Boolean(p),name:"SwitchBase",state:"checked"}),P=(0,u.A)();let E=m;P&&void 0===E&&(E=P.disabled);const T="checkbox"===M||"radio"===M,L=(0,n.A)({},e,{checked:D,disabled:E,disableFocusRipple:x,edge:k}),U=(e=>{const{classes:t,checked:a,disabled:i,edge:n}=e,r={root:["root",a&&"checked",i&&"disabled",n&&`edge${(0,l.A)(n)}`],input:["input"]};return(0,o.A)(r,v,t)})(L);return(0,f.jsxs)(b,(0,n.A)({component:"span",className:(0,s.A)(U.root,h),centerRipple:!0,focusRipple:!x,disabled:E,tabIndex:null,role:void 0,onFocus:e=>{$&&$(e),P&&P.onFocus&&P.onFocus(e)},onBlur:e=>{N&&N(e),P&&P.onBlur&&P.onBlur(e)},ownerState:L,ref:t},I,{children:[(0,f.jsx)(w,(0,n.A)({autoFocus:a,checked:r,defaultChecked:p,className:U.input,disabled:E,id:T?S:void 0,name:j,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;_(t),R&&R(e,t)},readOnly:B,ref:A,required:O,ownerState:L,tabIndex:z,type:M},"checkbox"===M&&void 0===F?{}:{value:F},C)),D?c:y]}))}))},24838:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var i=a(74848),n=a(96540),r=a(84425),s=(a(50513),a(65048),a(11848)),o=a(98587),l=a(58168),c=a(34164),d=a(64111),u=a(771),h=a(28466),p=a(55860),m=a(3541),v=a(27553),f=a(17245);function g(e){return(0,f.Ay)("MuiSwitch",e)}const b=(0,v.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),w=["className","color","edge","size","sx"],x=m.A,k=(0,s.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,h.A)(a.edge)}`],t[`size${(0,h.A)(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${b.thumb}`]:{width:16,height:16},[`& .${b.switchBase}`]:{padding:4,[`&.${b.checked}`]:{transform:"translateX(16px)"}}}}]}),y=(0,s.Ay)(p.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{[`& .${b.input}`]:t.input},"default"!==a.color&&t[`color${(0,h.A)(a.color)}`]]}})((({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${b.checked}`]:{transform:"translateX(20px)"},[`&.${b.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${b.checked} + .${b.track}`]:{opacity:.5},[`&.${b.disabled} + .${b.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:""+("light"===e.palette.mode?.12:.2)},[`& .${b.input}`]:{left:"-100%",width:"300%"}})),(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([t])=>({props:{color:t},style:{[`&.${b.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.X4)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?(0,u.a)(e.palette[t].main,.62):(0,u.e$)(e.palette[t].main,.55)}`}},[`&.${b.checked} + .${b.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}})))]}))),S=(0,s.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:""+("light"===e.palette.mode?.38:.3)}))),C=(0,s.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),A=n.forwardRef((function(e,t){const a=x({props:e,name:"MuiSwitch"}),{className:n,color:r="primary",edge:s=!1,size:u="medium",sx:p}=a,m=(0,o.A)(a,w),v=(0,l.A)({},a,{color:r,edge:s,size:u}),f=(e=>{const{classes:t,edge:a,size:i,color:n,checked:r,disabled:s}=e,o={root:["root",a&&`edge${(0,h.A)(a)}`,`size${(0,h.A)(i)}`],switchBase:["switchBase",`color${(0,h.A)(n)}`,r&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=(0,d.A)(o,g,t);return(0,l.A)({},t,c)})(v),b=(0,i.jsx)(C,{className:f.thumb,ownerState:v});return(0,i.jsxs)(k,{className:(0,c.A)(f.root,n),sx:p,ownerState:v,children:[(0,i.jsx)(y,(0,l.A)({type:"checkbox",icon:b,checkedIcon:b,ref:t,ownerState:v},m,{classes:(0,l.A)({},f,{root:f.switchBase})})),(0,i.jsx)(S,{className:f.track,ownerState:v})]})}));var j=function(){return j=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},j.apply(this,arguments)},N={inputProps:{"aria-label":"Switch demo"}},R=(0,s.Ay)(A)((function(){return{"& .MuiSwitch-switchBase.Mui-disabled":{color:"#C5C9D6"},"& .MuiSwitch-switchBase.Mui-disabled + .MuiSwitch-track":{backgroundColor:"#FFFFFF"},"& .MuiSwitch-switchBase.Mui-checked":{color:"#0C8EC7","&:hover":{backgroundColor:"rgba(20, 28, 76,0.1)"}}," & .MuiSwitch-switchBase":{color:"#141C4C","&:hover":{backgroundColor:"rgba(0, 133, 255, 0.1)"}},".MuiSwitch-track":{backgroundColor:"#141C4C"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#0C8EC7"}}}));const $=function(e){var t=e.ischecked,a=e.handleCheck,n=(e.defaultChecked,e.disabled),r=e.name;return(0,i.jsx)("div",{children:(0,i.jsx)(R,j({name:r,disabled:n,checked:t,onChange:a},N))})};var B=a(95093),O=a.n(B),z=a(84976),M=a(50461),F=a(80771),I=a(20114),D=a(1315),_=a(59408),P=a(30157),E=a(56230),T=a(2896),L=function(){return L=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},L.apply(this,arguments)},U={pagination:!0,paginationPageSize:10,cacheBlockSize:10};const Q=function(){(0,T.d4)((function(e){return e.app_central_store})).clientPrivateKey;var e=(0,n.useState)({}),t=e[0],a=e[1],s=[{headerName:"User ID",field:"id",width:100},{headerName:"Name",field:"name"},{headerName:"Email ID",field:"email"},{headerName:"Contact Number",field:"phone",width:150},{headerName:"Role",field:"role_id",width:100,cellRenderer:function(e){return v.map((function(t){return(null==t?void 0:t.id)===e.value?null==t?void 0:t.name:""}))}},{headerName:"User Status",field:"is_active",cellRenderer:function(e){var t;return(0,i.jsx)("div",L({className:""},{children:(0,i.jsx)($,{name:"",ischecked:null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.is_active,handleCheck:function(t){k(t,e)}})}))},width:150,suppressMenu:!0,sortable:!1,filter:!1},{headerName:"Created On",field:"created_at",width:180,cellRenderer:function(e){return e.value?O()(null==e?void 0:e.value).format("h:mm A; DD/M/yy"):"--"}},{headerName:"Actions",field:"status",cellRenderer:function(e){var t,a;return(0,i.jsxs)("div",L({className:"flex mt-1 items-center gap-3"},{children:[(0,F.OQ)("users","is_update")?(0,i.jsx)(z.N_,L({to:"/admin/user-settings/users/edit/".concat((0,M.y)(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.id))},{children:(0,i.jsx)("img",{src:"/assets/icons/userEditIcon.svg",alt:"edit"})})):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(z.N_,L({to:"/admin/user-settings/users/view/".concat((0,M.y)(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.id))},{children:(0,i.jsx)("img",{src:"/assets/icons/viewIcon.svg",alt:"viewIcon"})}))]}))},width:100,suppressMenu:!0,sortable:!1,filter:!1}],o={search:"",role:"",status:""},l=(0,n.useState)(!1),c=l[0],d=l[1],u=(0,n.useState)(o),h=u[0],p=u[1],m=(0,n.useState)([]),v=m[0],f=m[1],g=(0,E.xC)(),b=(0,n.useState)({grid:void 0,column:void 0}),w=b[0],x=b[1],k=function(e,t){_.S.patch("users/".concat(t.data.id),{status:e.target.checked}).then((function(a){var i;(0,F.Sx)(null===(i=null==a?void 0:a.data)||void 0===i?void 0:i.message,"success");var n=t.node;n&&n.setDataValue("is_active",e.target.checked?0:1)})).catch((function(e){(0,F.Sx)(e.message,"error")})).finally((function(){}))};(0,n.useEffect)((function(){_.S.get("roles/dropdown").then((function(e){var t;f(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.data)})).catch((function(e){(0,F.Sx)(e.message,"error")}))}),[]);var y=function(e){var t=e.target,a=t.value,i=t.name,n=L({},h);n[i]=a,p(n)};(0,n.useEffect)((function(){w.grid&&S(h)}),[w.grid]);var S=function(e){var t={getRows:function(t){setTimeout((function(){w.grid.showLoadingOverlay(),w.grid.setRowData([])}),100);var i=t.endRow/U.paginationPageSize;_.S.get("users?search=".concat(null==e?void 0:e.search,"&page=").concat(i,"&role=").concat(null==e?void 0:e.role,"&status=").concat(null==e?void 0:e.status)).then((function(e){return i=void 0,n=void 0,s=function(){var i,n;return function(e,t){var a,i,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(l){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(s=0)),s;)try{if(a=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){return i=e.data.data,t.successCallback(i.data,null===(n=i.pagination)||void 0===n?void 0:n.total),a(i.pagination),w.grid.setRowData([]),setTimeout((function(){(0,F.OQ)("users","is_update")?w.column.autoSizeAllColumns():w.column.sizeColumnsToFit(),w.grid.hideOverlay(),i.data.length||w.grid.showNoRowsOverlay()}),100),[2]}))},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(a,o)}l((s=s.apply(i,n||[])).next())}));var i,n,r,s})).catch((function(e){(0,F.Sx)(e.message,"error"),t.successCallback([],0)}))}};w.grid&&w.grid.setDatasource(t)};return(0,i.jsxs)("div",L({className:""},{children:[(0,i.jsxs)("div",L({className:"flex  justify-between flex-col sm:flex-row"},{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",L({className:"subheading"},{children:"List of Users"})),(0,i.jsx)("hr",{className:"w-32 md:w-full line"}),(0,i.jsxs)("p",L({className:"text-xs mt-1 font-normal"},{children:[null==t?void 0:t.total," Users"]}))]}),(0,i.jsxs)("div",L({className:"flex mt-4 h-9 lg:mt-0 gap-4"},{children:[(0,i.jsx)(I.A,{handleClick:function(){d(!c)},text:"Filter",icon:(0,i.jsx)("img",{src:"/assets/icons/filterIcon.svg",alt:""}),classes:"bg-none border border-black text-black w-fit px-4  py-2"}),(0,F.OQ)("users","is_write")?(0,i.jsx)(z.N_,L({to:"/admin/user-settings/users/create"},{children:(0,i.jsx)(I.A,{text:"Create New User",icon:(0,i.jsx)("img",{src:"/assets/icons/plusIcon.svg",alt:"plus"}),classes:"bg-darkshadeBlue text-white w-fit px-8  py-2"})})):(0,i.jsx)(i.Fragment,{})]}))]})),c?(0,i.jsxs)("div",L({className:"w-full flex flex-col lg:flex-row gap-4 items-center  mt-4  filters"},{children:[(0,i.jsx)("div",L({className:"w-full lg:w-2/12"},{children:(0,i.jsx)(D.A,{width:"100%",options:v||[],value:null==h?void 0:h.role,handleChange:y,label:"Role",name:"role"})})),(0,i.jsx)("div",L({className:"w-full lg:w-2/12"},{children:(0,i.jsx)(D.A,{width:"100%",options:[{id:!0,name:"ACTIVE"},{id:!1,name:"DISABLED"}],handleChange:y,value:null==h?void 0:h.status,label:"Status",name:"status"})})),(0,i.jsx)("div",L({className:"w-full lg:w-3/12"},{children:(0,i.jsx)(P.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==h?void 0:h.search,handleChange:y,label:"Search",name:"search"})})),(0,i.jsxs)("div",L({className:"w-full lg:w-3/12 flex pl-6 justify-end lg:justify-start items-center gap-2"},{children:[(0,i.jsx)(I.A,{disabled:(0,F.a8)(h)<1,handleClick:function(){S(h)},text:"Apply",classes:"bg-darkshadeBlue text-white w-fit px-4  py-2"}),(0,i.jsx)("button",L({disabled:(0,F.a8)(h)<1,className:"w-fit px-2 py-1 border ".concat((0,F.a8)(h)>=1?"border-black cursor-pointer":"border-[#bbbbbb]","  "),onClick:function(){p(o),S(o)}},{children:(0,i.jsx)("img",{src:(0,F.a8)(h)>=1?"/assets/icons/refreshIcon.svg":"/assets/icons/disableReset.svg",alt:""})}))]}))]})):null,(0,i.jsx)("div",L({className:"mt-6"},{children:(0,i.jsx)("div",L({className:"ag-theme-alpine",style:{height:"65vh",width:"100%"}},{children:(0,i.jsx)(r.AgGridReact,L({rowModelType:"infinite",columnDefs:s,onGridReady:function(e){x({grid:e.api,column:e.columnApi}),g&&!(0,F.OQ)("users","is_update")&&e.columnApi.setColumnsVisible(["is_active"],!1),e.columnApi.autoSizeAllColumns()},enableCellTextSelection:!0,ensureDomOrder:!0,onFirstDataRendered:function(){w.column&&w.column.autoSizeAllColumns()},gridOptions:{defaultColDef:{maxWidth:500}}},U))}))}))]}))}}}]);