"use strict";(self.webpackChunkscube_v4=self.webpackChunkscube_v4||[]).push([[942],{27558:(e,t,n)=>{n.d(t,{A:()=>_});var a=n(98587),r=n(58168),o=n(96540),i=n(34164),l=n(64111),s=n(771),c=n(55860),d=n(75003),u=n(74848);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var f=n(28466),m=n(3541),x=n(11848),b=n(27553),g=n(17245);function w(e){return(0,g.Ay)("MuiCheckbox",e)}const k=(0,b.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],A=(0,x.Ay)(c.A,{shouldForwardProp:e=>(0,x.ep)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,f.A)(n.size)}`],"default"!==n.color&&t[`color${(0,f.A)(n.color)}`]]}})((({theme:e,ownerState:t})=>(0,r.A)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.X4)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${k.checked}, &.${k.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${k.disabled}`]:{color:(e.vars||e).palette.action.disabled}}))),j=(0,u.jsx)(p,{}),C=(0,u.jsx)(h,{}),S=(0,u.jsx)(v,{}),_=o.forwardRef((function(e,t){var n,s;const c=(0,m.A)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=j,color:h="primary",icon:p=C,indeterminate:v=!1,indeterminateIcon:x=S,inputProps:b,size:g="medium",className:k}=c,_=(0,a.A)(c,y),z=v?x:p,N=v?x:d,O=(0,r.A)({},c,{color:h,indeterminate:v,size:g}),P=(e=>{const{classes:t,indeterminate:n,color:a,size:o}=e,i={root:["root",n&&"indeterminate",`color${(0,f.A)(a)}`,`size${(0,f.A)(o)}`]},s=(0,l.A)(i,w,t);return(0,r.A)({},t,s)})(O);return(0,u.jsx)(A,(0,r.A)({type:"checkbox",inputProps:(0,r.A)({"data-indeterminate":v},b),icon:o.cloneElement(z,{fontSize:null!=(n=z.props.fontSize)?n:g}),checkedIcon:o.cloneElement(N,{fontSize:null!=(s=N.props.fontSize)?s:g}),ownerState:O,ref:t,className:(0,i.A)(P.root,k)},_,{classes:P}))}))},55860:(e,t,n)=>{n.d(t,{A:()=>w});var a=n(98587),r=n(58168),o=n(96540),i=n(34164),l=n(64111),s=n(28466),c=n(11848),d=n(57548),u=n(79716),h=n(75262),p=n(27553),v=n(17245);function f(e){return(0,v.Ay)("PrivateSwitchBase",e)}(0,p.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var m=n(74848);const x=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],b=(0,c.Ay)(h.A)((({ownerState:e})=>(0,r.A)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),g=(0,c.Ay)("input",{shouldForwardProp:c.ep})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),w=o.forwardRef((function(e,t){const{autoFocus:n,checked:o,checkedIcon:c,className:h,defaultChecked:p,disabled:v,disableFocusRipple:w=!1,edge:k=!1,icon:y,id:A,inputProps:j,inputRef:C,name:S,onBlur:_,onChange:z,onFocus:N,readOnly:O,required:P=!1,tabIndex:B,type:F,value:I}=e,R=(0,a.A)(e,x),[E,M]=(0,d.A)({controlled:o,default:Boolean(p),name:"SwitchBase",state:"checked"}),$=(0,u.A)();let q=v;$&&void 0===q&&(q=$.disabled);const D="checkbox"===F||"radio"===F,V=(0,r.A)({},e,{checked:E,disabled:q,disableFocusRipple:w,edge:k}),H=(e=>{const{classes:t,checked:n,disabled:a,edge:r}=e,o={root:["root",n&&"checked",a&&"disabled",r&&`edge${(0,s.A)(r)}`],input:["input"]};return(0,l.A)(o,f,t)})(V);return(0,m.jsxs)(b,(0,r.A)({component:"span",className:(0,i.A)(H.root,h),centerRipple:!0,focusRipple:!w,disabled:q,tabIndex:null,role:void 0,onFocus:e=>{N&&N(e),$&&$.onFocus&&$.onFocus(e)},onBlur:e=>{_&&_(e),$&&$.onBlur&&$.onBlur(e)},ownerState:V,ref:t},R,{children:[(0,m.jsx)(g,(0,r.A)({autoFocus:n,checked:o,defaultChecked:p,className:H.input,disabled:q,id:D?A:void 0,name:S,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;M(t),z&&z(e,t)},readOnly:O,ref:C,required:P,ownerState:V,tabIndex:B,type:F},"checkbox"===F&&void 0===I?{}:{value:I},j)),E?c:y]}))}))},88942:(e,t,n)=>{n.d(t,{A:()=>w});var a=n(74848),r=n(96540),o=n(77064),i=n(50461),l=n(47767),s=n(80771),c=n(89856),d=n(1315),u=n(20114),h=n(59408),p=n(30157),v=n(46775),f=n(2896),m=function(){return m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)},x=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},b=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},g={name:"",email:"",phone:"",role_id:"",is_active:"Active",mark_as_exit:!1};const w=function(){var e=(0,f.d4)((function(e){return e.app_central_store})),t=(e.serverPublicKey,e.clientPrivateKey,(0,r.useState)(g)),n=t[0],w=t[1],k=(0,r.useState)(!1),y=k[0],A=k[1],j=(0,r.useState)(g),C=j[0],S=j[1],_=(0,r.useState)([]),z=_[0],N=_[1],O=(0,r.useState)(!0),P=(O[0],O[1],(0,l.Zp)()),B=(0,l.g)().id,F=function(e){var t=e.target,a=t.value,r=t.name,o=t.type,i=t.checked,l=m({},n);S(""),l[r]="checkbox"===o?i:a,w(l)};return(0,r.useEffect)((function(){h.S.get("roles/dropdown").then((function(e){var t;N(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.data)})).catch((function(e){})),B&&function(e){h.S.get("users/".concat(e)).then((function(e){return x(void 0,void 0,void 0,(function(){var t,n,a;return b(this,(function(r){return t=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.data,n=m(m({},t),{is_active:(null==t?void 0:t.is_active)?"Active":"Disable"}),w(n),[2]}))}))})).catch((function(e){(0,s.Sx)(e.message,"error")}))}((0,i.a)(B))}),[B]),(0,a.jsxs)("div",m({className:""},{children:[(0,a.jsxs)("div",m({className:"w-full bg-white p-6"},{children:[(0,a.jsx)(c.A,{heading:"User Details"}),(0,a.jsxs)("div",m({className:"grid grid-cols-2 gap-6 py-8"},{children:[(0,a.jsx)(p.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==n?void 0:n.name,handleChange:F,label:"Enter Name",name:"name",helperText:null==C?void 0:C.name,error:!!(null==C?void 0:C.name)}),(0,a.jsx)(p.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==n?void 0:n.email,handleChange:F,label:"Email ID",name:"email",helperText:null==C?void 0:C.email,error:null==C?void 0:C.email}),(0,a.jsx)(p.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==n?void 0:n.phone,handleChange:F,label:"Phone Number",name:"phone",helperText:null==C?void 0:C.phone,error:null==C?void 0:C.phone}),(0,a.jsx)(d.A,{width:"100%",options:z,value:null==n?void 0:n.role_id,handleChange:F,label:"User Role",name:"role_id",helperText:null==C?void 0:C.role_id,error:null==C?void 0:C.role_id}),(0,a.jsx)(d.A,{width:"100%",options:[{id:"Active",name:"Active"},{id:"Disable",name:"Disable"}],value:null==n?void 0:n.is_active,handleChange:F,label:"User Status",name:"is_active"}),B&&"Disable"===(null==n?void 0:n.is_active)?(0,a.jsx)("div",m({className:"flex gap-6 p-4 w-full border border-[#E5E7EB] hover:border-[#000000] px-4"},{children:(0,a.jsx)(v.A,{Label:"Mark As Exist",isChecked:null==n?void 0:n.mark_as_exit,handleCheck:F,name:"mark_as_exit"})})):""]}))]})),(0,s.OQ)("users","is_write")||(0,s.OQ)("users","is_update")?(0,a.jsxs)("div",m({className:"w-full flex justify-end items-center gap-4 pt-6"},{children:[(0,a.jsx)(u.A,{loading:y,handleClick:function(){P("/admin/user-settings/users")},text:"Cancel",classes:"bg-none border text-black border-black w-fit px-4   py-2"}),(0,a.jsx)(u.A,{loading:y,handleClick:function(){return x(void 0,void 0,void 0,(function(){var e,t,a,r,l;return b(this,(function(c){return n.phone&&!(0,s.Q7)(n.phone)?(S(m(m({},C),{phone:"Please Enter Valid No"})),[2]):(e={name:"required|max:150",email:"required|max:150|email",phone:"required|max:13",role_id:"required|integer",is_active:"required"},/^[a-zA-Z0-9\s]+$/.test(n.name)?"object"==typeof(t=(0,o.M)(n,e))?(S(t),[2]):(A(!0),a=m(m({},n),{is_active:"Active"===(null==n?void 0:n.is_active)?1:0,mark_as_exit:!0===(null==n?void 0:n.mark_as_exit)?1:0}),r=B?"users/".concat((0,i.a)(B)):"users",l=m({},a),(B?h.S.put(r,l):h.S.post(r,l)).then((function(e){w(g),(0,s.Sx)(e.data.message,"success"),P("/admin/user-settings/users")})).catch((function(e){(0,s.Sx)(null==e?void 0:e.message,"error")})).finally((function(){A(!1)})),[2]):(S(m(m({},C),{name:"Invalid Name"})),[2]))}))}))},text:"Submit Details",classes:"bg-darkshadeBlue text-white w-fit px-20   py-2"})]})):(0,a.jsx)(a.Fragment,{})]}))}},89856:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(74848),r=function(){return r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};const o=function(e){var t=e.heading;return(0,a.jsx)("div",r({className:"w-full bg-lightshadedGray p-3 text-black font-bold text-lg"},{children:t}))}},46775:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(74848),r=n(27558),o=n(59665),i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},l={inputProps:{"aria-label":"Checkbox demo"}},s=(0,o.A)((function(){return{root:{padding:0,"&:hover":{backgroundColor:"rgba(0, 133, 255, 0.1) !important"}}}}));const c=function(e){var t=e.defaultChecked,n=e.handleCheck,o=e.isChecked,c=e.Label,d=e.name,u=e.color,h=e.readonly,p=s();return(0,a.jsxs)("div",i({className:"flex items-center"},{children:[(0,a.jsx)(r.A,i({icon:(0,a.jsx)("svg",i({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("rect",{x:"0.75",y:"0.75",width:"18.5",height:"18.5",rx:"0",stroke:"#3C567E"})})),checkedIcon:(0,a.jsxs)("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},{children:[(0,a.jsx)("rect",{x:"0.75",y:"0.75",width:"20",height:"20",rx:"0",ry:"0",fill:"#1976d2"}),(0,a.jsx)("path",{fill:"#FFF",d:"M7 10l2 2 5-5 1.5 1.5-6.5 6.5-3.5-3.5 1-1z"})]})),sx:{"& .MuiSvgIcon-root":{fontSize:70,borderRadius:20}},disabled:h,name:d,id:c,checked:o,className:p.root,defaultValue:t},l,{onChange:n})),(0,a.jsx)("label",i({className:" ml-2  break-word sm:text-sm text-xs   ".concat(o?"text-WaterBlue":"".concat(u))},{children:c}))]}))}},77064:(e,t,n)=>{n.d(t,{M:()=>r});var a=n(29729),r=function(e,t,n){void 0===n&&(n={});var r=new a(e,t,n);if(r.fails()){var o={};for(var i in r.errors.errors)o[i]=r.errors.errors[i][0];return o}return!0}}}]);