"use strict";(self.webpackChunkscube_v4=self.webpackChunkscube_v4||[]).push([[418],{75418:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var l=a(74848),n=a(96540),s=a(84425),i=(a(50513),a(65048),a(95093)),r=a.n(i),o=a(11848),d=a(58031),c=a(22477),u=a(5556),p=a.n(u),m=a(46831),h=a(35642),f=a(20114),x=a(24974),g=a.n(x),v=a(29729),y=a.n(v),j=a(59408),b=a(80771),w=a(2896),N=function(){return N=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},N.apply(this,arguments)},C=function(e,t,a){if(a||2===arguments.length)for(var l,n=0,s=t.length;n<s;n++)!l&&n in t||(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))},k=["Sno","EmployeeId","EmployeeName","EmployeeEmail","EmployeeDesignation","EmployeeDepartment","EmployeePhone","WorkLocation","BloodGroup"],S={EmployeeId:"emp_id",EmployeeName:"name",EmployeeEmail:"email",EmployeeDesignation:"designation",EmployeeDepartment:"department",EmployeePhone:"phone",WorkLocation:"work_location",BloodGroup:"blood_group"},D=[{field:"emp_id",headerName:"emp_id"},{field:"email",headerName:"email"},{field:"status",headerName:"status"},{field:"remark",headerName:"remark"}],A=(0,o.Ay)(d.A)((function(e){return{"& .MuiDialogContent-root":{backgroundColor:"#FFFFFF",width:"100%"},"& .MuiDialogActions-root":{padding:e.theme.spacing(1)}}})),F=[20,50,100];function R(e){var t=this,a=e.open,i=e.handleClose,r=e.refresh,o=((0,w.d4)((function(e){return e.app_central_store})).serverPublicKey,(0,n.useState)({file:""})),d=o[0],u=o[1],p=(0,n.useState)({file:""}),x=p[0],v=p[1],R=(0,n.useState)(!1),E=R[0],B=R[1],I=(0,n.useState)(!1),O=I[0],P=I[1],U=(0,n.useState)([]),_=U[0],M=U[1],T=(0,n.useState)(!1),z=T[0],L=T[1],q=(0,n.useState)([]),G=q[0],W=q[1],H=(0,n.useState)([]),Y=H[0],Z=H[1],V=function(){u({file:""})},Q=function(){i(),Z([]),P(!1),L(!1),M([]),W([]),V()};return(0,l.jsx)("div",N({className:"w-full"},{children:(0,l.jsxs)(A,N({onClose:Q,"aria-labelledby":"customized-dialog-title",open:a,PaperProps:{sx:{minWidth:{xs:"90%",sm:"60%",md:"800px",lg:"600px",xl:"600px"},m:1,alignItems:"center",borderRadius:"0px"}}},{children:[(0,l.jsx)(m.A,N({sx:{width:"100%"}},{children:(0,l.jsxs)("div",N({className:"flex justify-between "},{children:[(0,l.jsx)("p",N({className:"text-left  font-bold text-lg  text-shadeDarkBlue",id:"modal-headline"},{children:"Add New Record"})),(0,l.jsx)("button",N({onClick:Q},{children:(0,l.jsx)("img",{src:"/assets/icons/closeIcon.svg",className:"cursor-pointer",alt:"close_icon"})}))]}))})),(0,l.jsxs)(c.A,{children:[!O&&!_.length&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",N({className:"w-full gradientBg"},{children:(0,l.jsx)(h.A,{removeImage:V,imageUrl:null==d?void 0:d.file,styleType:"lg",setImage:function(e){v({file:""}),u(N(N({},d),{file:null==e?void 0:e.file.name})),L(!0);var t=null==e?void 0:e.file,a=new(g().Workbook),l=new FileReader;l.readAsArrayBuffer(t),l.onload=function(){var e=l.result;a.xlsx.load(e).then((function(e){var t=e.worksheets[0].getRow(1),a=!0;if((null==t?void 0:t.values)&&t.values.length){for(var l=0;l<k.length;l++)if(!t.values.includes(k[l])){a=!1;break}}else a=!1;if(a){var n=[];e.eachSheet((function(e,t){var a=e.getRow(1);if(a.cellCount){var l=a.values;e.eachRow((function(e,t){if(1!=t){for(var a=e.values,s={},i=1;i<l.length;i++){var r=l[i],o=S[r];o&&(s[o.toLowerCase()]=a[i]?String(a[i]):"")}n.push(s)}}))}}));var s=[],i=[],r=[];for(l=0;l<n.length;l++){var o=n[l];o.phone&&!(0,b.Q7)(String(o.phone).trim())&&i.push({message:"Invalid primary phone number ".concat(l+1," th row  Phone: ").concat(o.phone),phone:o.phone,type:"Primary Phone Number"});for(var d=l+1;d<n.length;d++){var c=n[d];o.email&&o.email===c.email&&s.push({message:"Duplicate Email found ".concat(d+1," th row  Email: ").concat(o.email),email:o.email,type:"Email"}),o.emp_id&&o.emp_id===c.emp_id&&r.push({message:"Duplicate Employee Id found ".concat(d+1," th row  Employee Id: ").concat(o.emp_id),id:o.emp_id,type:"Employee Id"})}}if(!n.length)return(0,b.Sx)("Empty Sheet Uploaded.","error"),L(!1),void u({file:""});if(s.length||r.length||i.length){var p=C(C(C([],s,!0),r,!0),i,!0);M(p)}else W(n)}else(0,b.Sx)("Invalid Template File uploaded!.","error"),u({file:""});L(!1)}))}},acceptMimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],title:"Upload or Drag and Drop XLS file",label:"File Format: .xslx/.xsl",id:"file",maxSize:5,filename:"file",error:null==x?void 0:x.file,type:"xslx"})})),(0,l.jsx)("div",N({className:"w-full pt-4 flex justify-end"},{children:(0,l.jsx)(f.A,{disabled:z||E,loading:E,handleClick:function(){return e=t,a=void 0,n=function(){var e,t;return function(e,t){var a,l,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(o){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(i=0)),i;)try{if(a=1,l&&(n=2&r[0]?l.return:r[0]?l.throw||((n=l.return)&&n.call(l),0):l.next)&&!(n=n.call(l,r[1])).done)return n;switch(l=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,l=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){i.label=r[1];break}if(6===r[0]&&i.label<n[1]){i.label=n[1],n=r;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(r);break}n[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],l=0}finally{a=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,(function(a){return function(e,t){var a=new(y())(e,{file:"required"});if(a.fails()){var l={};for(var n in a.errors.errors)l[n]=a.errors.errors[n][0];return v(l),!1}return v(N(N({},x),{photo_naming_method:"",file:"",device:""})),!0}(d)?G.length?(t=G.map((function(e){var t;return N(N({},e),{email:"object"==typeof e.email?String(null===(t=null==e?void 0:e.email)||void 0===t?void 0:t.text):String(null==e?void 0:e.email)})})),B(!0),j.S.post("/employees/bulk-upload-employees",{employees:t}).then((function(e){var t;Z(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.response_list),P(!0),B(!1),(0,b.Sx)("Sheet Uploaded successfully!.","success"),r()})).catch((function(e){(0,b.Sx)(e.message,"error"),B(!1)})),[2]):((0,b.Sx)("Please upload the file!","error"),[2]):((null==(e=Object.keys(x))?void 0:e.length)&&document.querySelector("input[name=".concat(e[0],"]")),[2])}))},new((l=void 0)||(l=Promise))((function(t,s){function i(e){try{o(n.next(e))}catch(e){s(e)}}function r(e){try{o(n.throw(e))}catch(e){s(e)}}function o(e){var a;e.done?t(e.value):(a=e.value,a instanceof l?a:new l((function(e){e(a)}))).then(i,r)}o((n=n.apply(e,a||[])).next())}));var e,a,l,n},text:"Upload",classes:"bg-darkBlue rounded-lg text-white px-10 py-2"})}))]}),_.length?(0,l.jsxs)("div",N({className:"flex flex-col"},{children:[(0,l.jsxs)("div",N({className:"flex items-center gap-3"},{children:[(0,l.jsx)("div",{children:(0,l.jsxs)("svg",N({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,l.jsx)("path",{d:"M15.1377 2.93692L23.516 17.4486C23.8233 17.9808 23.9999 18.5978 23.9999 19.2564C23.9999 21.2566 22.3784 22.8782 20.3782 22.8782H11.9999L9.10254 12.0006L11.9999 1.12305C13.3415 1.12305 14.5118 1.85303 15.1377 2.93692Z",fill:"#3B4145"}),(0,l.jsx)("path",{d:"M8.86223 2.93692L0.483891 17.4486C0.176672 17.9808 0 18.5978 0 19.2564C0 21.2566 1.6215 22.8782 3.62175 22.8782H12V1.12305C10.6584 1.12305 9.48811 1.85303 8.86223 2.93692Z",fill:"#525A61"}),(0,l.jsx)("path",{d:"M22.2615 18.1723L13.8833 3.6607C13.5056 3.00638 12.8122 2.5935 12.0623 2.57227L19.228 21.4289H20.3783C21.5763 21.4289 22.5513 20.454 22.5513 19.2559C22.5513 18.8753 22.4508 18.5006 22.2615 18.1723Z",fill:"#FFB751"}),(0,l.jsx)("path",{d:"M20.8525 18.1718C21.0162 18.5001 21.1026 18.8748 21.1026 19.2554C21.1026 20.4535 20.2619 21.4284 19.228 21.4284H3.62176C2.42368 21.4284 1.44873 20.4535 1.44873 19.2554C1.44873 18.8748 1.54918 18.5001 1.73846 18.1718L10.1167 3.6602C10.505 2.98802 11.2264 2.57031 12 2.57031C12.0208 2.57031 12.0415 2.57078 12.0623 2.57177C12.706 2.59689 13.3005 3.00878 13.6245 3.6602L20.8525 18.1718Z",fill:"#FFD764"}),(0,l.jsx)("path",{d:"M12 16.5996V19.0141C12.6669 19.0141 13.2073 18.4737 13.2073 17.8068C13.2073 17.14 12.6669 16.5996 12 16.5996Z",fill:"#3B4145"}),(0,l.jsx)("path",{d:"M12 16.5996C12.1333 16.5996 12.2414 17.14 12.2414 17.8069C12.2414 18.4738 12.1333 19.0141 12 19.0141C11.3331 19.0141 10.7927 18.4738 10.7927 17.8069C10.7927 17.14 11.3331 16.5996 12 16.5996Z",fill:"#525A61"}),(0,l.jsx)("path",{d:"M12 6.21875V15.1524C12.6669 15.1524 13.2073 14.6115 13.2073 13.9451V7.42602C13.2073 6.75913 12.6669 6.21875 12 6.21875Z",fill:"#3B4145"}),(0,l.jsx)("path",{d:"M12 6.21875C12.1333 6.21875 12.2414 6.75913 12.2414 7.42602V13.9451C12.2414 14.6115 12.1333 15.1524 12 15.1524C11.3331 15.1524 10.7927 14.6115 10.7927 13.9451V7.42602C10.7927 6.75913 11.3331 6.21875 12 6.21875Z",fill:"#525A61"})]}))}),(0,l.jsx)("h1",N({className:"text-base font-onestBold text-[#2B2C34]"},{children:"Duplicate Entries Detected in the Uploaded XLS File"}))]})),(0,l.jsx)("p",N({className:"text-sm font-onestMedium text-[#2B2C34]"},{children:"Uh-oh! It looks like there are some duplicate entries in the XLS file you uploaded, which might cause some confusion in the data analysis."})),(0,l.jsxs)("div",N({className:"flex flex-col"},{children:[(0,l.jsx)("p",N({className:"text-sm text-[#767676] font-onestMedium"},{children:"We noticed these duplications in the following places:"})),(0,l.jsx)("div",N({className:"bg-[#f2f2f2] p-5 h-[130px] overflow-y-auto rounded-lg mt-5"},{children:_&&Array.isArray(_)&&_.map((function(e,t){return(0,l.jsxs)("div",N({className:"border-b py-2 border-[#d9d9d9]"},{children:[(0,l.jsxs)("p",N({className:"text-sm text-[#767676]"},{children:["1. ",e.type]})),(0,l.jsx)("li",N({className:"list-disc pl-2 text-sm text-[#767676]"},{children:e.message}))]}),"duplicate_id"+t)}))}))]})),(0,l.jsx)("div",N({className:"flex flex-row gap-5 justify-end items-end mt-5"},{children:(0,l.jsx)(f.A,{handleClick:Q,text:"OK, I will Fix and Upload",classes:"bg-darkBlue text-white px-10 py-2"})}))]})):(0,l.jsx)(l.Fragment,{}),O&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",N({className:"ag-theme-alpine",style:{height:500}},{children:(0,l.jsx)(s.AgGridReact,{suppressDragLeaveHidesColumns:!0,gridOptions:{pagination:!0,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:200}},rowData:Y,columnDefs:D,pagination:!0,paginationPageSize:20,paginationPageSizeSelector:F,onGridReady:function(e){e.columnApi.autoSizeAllColumns()}})})),(0,l.jsx)("div",N({className:"w-full pt-4 flex justify-end"},{children:(0,l.jsx)(f.A,{handleClick:Q,text:"Done",classes:"bg-darkBlue text-white px-10 py-2"})}))]})]})]}))}))}R.propTypes={open:p().bool.isRequired,handleClose:p().func.isRequired,refresh:p().func.isRequired};var E=function(){return E=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},E.apply(this,arguments)},B=(0,o.Ay)(d.A)((function(e){return{"& .MuiDialogContent-root":{backgroundColor:"#FFFFFF",width:"100%"},"& .MuiDialogActions-root":{padding:e.theme.spacing(1)}}}));function I(e){var t=e.open,a=e.handleClose,n=e.handleUploadFile;return(0,l.jsx)("div",E({className:"w-full"},{children:(0,l.jsxs)(B,E({onClose:a,"aria-labelledby":"customized-dialog-title",open:t,PaperProps:{sx:{minWidth:{xs:"90%",sm:"60%",md:"800px",lg:"500px",xl:"500px"},m:1,alignItems:"center",borderRadius:"0px"}}},{children:[(0,l.jsxs)(m.A,E({sx:{width:"100%"}},{children:[(0,l.jsxs)("div",E({className:"flex justify-between "},{children:[(0,l.jsx)("p",E({className:"text-left  font-bold text-lg  text-shadeDarkBlue",id:"modal-headline"},{children:"Upload to the Admin Panel"})),(0,l.jsx)("button",E({onClick:a},{children:(0,l.jsx)("img",{src:"/assets/icons/closeIcon.svg",className:"cursor-pointer",alt:"close_icon"})}))]})),(0,l.jsx)("p",E({className:"text-sm leading-snug w-11/12 py-1"},{children:"To ensure that your data updates ar processed accurately and efficiently, we recommend following these simple steps:"}))]})),(0,l.jsx)(c.A,{children:(0,l.jsxs)("div",E({className:"w-full gradientBg "},{children:[(0,l.jsxs)("div",E({className:"w-full border my-4 p-4"},{children:[(0,l.jsx)("p",E({className:"text-shadeDarkBlue font-bold text-sm"},{children:"Step 1: Download the Data Sheet"})),(0,l.jsx)("p",E({className:" text-sm font-normal py-2"},{children:"Click the “Download Data Sheet” button to obtain latest version of the data sheet. This file contains the most up-t-date template with all the necessary fields for your data updates."})),(0,l.jsx)("div",E({className:"w-full flex justify-end"},{children:(0,l.jsx)(f.A,{handleClick:function(){var e=document.createElement("a");e.href="/assets/templates/template.xlsx",e.download="template.xlsx",e.click(),(0,b.Sx)("Template file successfully downloaded!","success")},text:"Download data sheet",classes:"bg-none border border-black  text-black w-fit px-4  py-2"})}))]})),(0,l.jsxs)("div",E({className:"w-full border my-4 p-4"},{children:[(0,l.jsx)("p",E({className:"text-shadeDarkBlue font-bold text-sm"},{children:"Step 2: Update Data in the File"})),(0,l.jsxs)("p",E({className:" text-sm font-normal py-2"},{children:["Open the downloaded data sheet using your preferred spreadsheet software (e.g., Microsoft Excel, Google Sheets). Here, you can add, modify, or remove the data as needed. Please ensure that all the changes are made in accordance with the"," ",(0,l.jsx)("span",E({className:"text-red-500"},{children:"provided guidelines."}))]}))]})),(0,l.jsxs)("div",E({className:"w-full border my-4 p-4"},{children:[(0,l.jsx)("p",E({className:"text-shadeDarkBlue font-bold text-sm"},{children:"Step 3: Save the Updated Data Sheet"})),(0,l.jsx)("p",E({className:" text-sm font-normal py-2"},{children:"After making the necessary changes, save the data sheet to your computer, ensuring it’s saved in the XLS format."}))]})),(0,l.jsxs)("div",E({className:"w-full border my-4 p-4"},{children:[(0,l.jsx)("p",E({className:"text-shadeDarkBlue font-bold text-sm"},{children:"Step 4: Upload to the Admin Panel"})),(0,l.jsx)("p",E({className:" text-sm font-normal py-2"},{children:"Now click the “Upload  File” button below, and select the updated data sheet from your computer. This will initiate the process of updating the data on the admin panel."})),(0,l.jsx)("div",E({className:"w-full flex justify-end"},{children:(0,l.jsx)(f.A,{handleClick:n,text:"Upload File",classes:"bg-darkshadeBlue text-white w-fit px-4  py-2"})}))]}))]}))})]}))}))}I.propTypes={open:p().bool.isRequired,handleClose:p().func.isRequired,handleUploadFile:p().func.isRequired};var O=a(84976),P=function(){return P=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},P.apply(this,arguments)},U=(0,o.Ay)(d.A)((function(e){return{"& .MuiDialogContent-root":{backgroundColor:"#FFFFFF",width:"100%"},"& .MuiDialogActions-root":{padding:e.theme.spacing(1)}}}));function _(e){var t=e.open,a=e.handleClose,n=e.handleAddRecord;return(0,l.jsx)("div",P({className:"w-full"},{children:(0,l.jsx)(U,P({onClose:a,"aria-labelledby":"customized-dialog-title",open:t,PaperProps:{sx:{minWidth:{xs:"90%",sm:"60%",md:"800px",lg:"500px",xl:"500px"},m:1,alignItems:"center",borderRadius:"0px"}}},{children:(0,l.jsxs)(c.A,{children:[(0,l.jsxs)("div",P({className:"relative"},{children:[(0,l.jsx)("h4",P({className:"text-left   text-chaosblack",id:"modal-headline"},{children:"Bulk Upload"})),(0,l.jsx)("button",P({onClick:a},{children:(0,l.jsx)("img",{src:"/assets/icons/closeIcon.svg",className:"absolute right-0 top-0 cursor-pointer",alt:"close_icon"})}))]})),(0,l.jsx)("div",P({className:"w-full gradientBg md:p-4"},{children:(0,l.jsxs)("div",P({className:"grid grid-cols-2 gap-6"},{children:[(0,l.jsx)(O.N_,P({to:"/admin/employees/create"},{children:(0,l.jsxs)("div",P({className:" p-4  bg-[#F8F9FB] hover:border border-darkshadeBlue cursor-pointer"},{children:[(0,l.jsx)("img",{src:"/assets/images/bulkUser.svg",alt:"user",className:"m-auto"}),(0,l.jsxs)("p",P({className:" text-center font-medium py-3 text-shadeDarkBlue text-sm"},{children:["Add Individual ",(0,l.jsx)("br",{})," Employee"]}))]}))})),(0,l.jsx)("button",P({onClick:n},{children:(0,l.jsxs)("div",P({className:" p-4 cursor-pointer  bg-[#F8F9FB] hover:border border-darkshadeBlue"},{children:[(0,l.jsx)("img",{src:"/assets/images/folder.svg",alt:"user",className:"m-auto"}),(0,l.jsxs)("p",P({className:" text-center font-medium py-3 text-shadeDarkBlue text-sm"},{children:["Add Bulk ",(0,l.jsx)("br",{})," Records"]}))]}))}))]}))}))]})}))}))}_.propTypes={open:p().bool.isRequired,handleClose:p().func.isRequired,handleAddRecord:p().func.isRequired};var M=a(50461),T=a(1315),z=a(30157),L=a(57217),q=a(58763),G=a(48875),W=function(){return W=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},W.apply(this,arguments)},H=n.forwardRef((function(e,t){return(0,l.jsx)(G.A,W({direction:"up",ref:t},e))}));const Y=function(){var e={pagination:!0,paginationPageSize:20,cacheBlockSize:20},t=[{field:"emp_id",headerName:"Employee Id"},{field:"name",headerName:"Name"},{field:"email",headerName:"Email",cellRenderer:function(e){return e.data?e.data.email||"--":null}},{field:"designation",headerName:"Designation",cellRenderer:function(e){return e.data?e.data.designation||"--":null}},{field:"department",headerName:"Department",cellRenderer:function(e){return e.data?e.data.department||"--":null}},{field:"phone",headerName:"Phone",cellRenderer:function(e){return e.data?e.data.phone||"--":null}},{field:"card_status",headerName:"Card Status"},{field:"action",headerName:"Action",width:100,cellRenderer:function(e){var t,a;return e.data?(0,l.jsxs)("div",W({className:"flex mt-1 items-center gap-3"},{children:[(0,b.OQ)("employees","is_update")&&(0,l.jsx)(O.N_,W({to:"/admin/employees/edit/".concat((0,M.y)(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.id))},{children:(0,l.jsx)("img",{src:"/assets/icons/userEditIcon.svg",alt:"edit"})})),(0,l.jsx)(O.N_,W({to:"/admin/employees/view/".concat((0,M.y)(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.id))},{children:(0,l.jsx)("img",{src:"/assets/icons/viewIcon.svg",alt:"viewIcon"})}))]})):null}}],a={search:"",status:"",from:"",to:""},i=((0,w.d4)((function(e){return e.app_central_store})).clientPrivateKey,(0,n.useState)(!1)),o=i[0],u=i[1],p=(0,n.useState)({}),h=p[0],x=p[1],g=(0,n.useState)(a),v=g[0],N=g[1],C=(0,n.useState)({email:""}),k=C[0],S=C[1],D=(0,n.useState)({email:""}),A=D[0],F=D[1],E=(0,n.useState)(!1),B=E[0],P=E[1],U=(0,n.useState)(!1),G=U[0],Y=U[1],Z=(0,n.useState)({addEmployee:!1,addRecord:!1,fileUploader:!1}),V=Z[0],Q=Z[1],K=(0,n.useState)(""),X=K[0],J=K[1],$=(0,n.useState)(""),ee=$[0],te=$[1],ae=(0,n.useState)({grid:void 0,column:void 0}),le=ae[0],ne=ae[1],se=function(e){var t,a=e.target,l=a.name,n=a.value;N(W(W({},v),((t={})[l]=n,t)))},ie=function(e){var t=W({},V);t[e]=!1,Q(t)};(0,n.useEffect)((function(){le.grid&&re(v)}),[le.grid]);var re=function(t){var a={getRows:function(a){setTimeout((function(){le.grid.showLoadingOverlay(),le.grid.setRowData([])}),100);var l=a.endRow/e.paginationPageSize;j.S.get("/employees?page=".concat(l,"&search=").concat(null==t?void 0:t.search,"&from=").concat(null==t?void 0:t.from,"&to=").concat(null==t?void 0:t.to,"&status=").concat(null==t?void 0:t.status,"&type=1&size=").concat(null==e?void 0:e.paginationPageSize)).then((function(e){return t=void 0,l=void 0,s=function(){var t,l,n;return function(e,t){var a,l,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function r(r){return function(o){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(i=0)),i;)try{if(a=1,l&&(n=2&r[0]?l.return:r[0]?l.throw||((n=l.return)&&n.call(l),0):l.next)&&!(n=n.call(l,r[1])).done)return n;switch(l=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,l=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){i.label=r[1];break}if(6===r[0]&&i.label<n[1]){i.label=n[1],n=r;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(r);break}n[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],l=0}finally{a=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,(function(s){return t=e.data.data,l=t.data,a.successCallback(l,null===(n=t.pagination)||void 0===n?void 0:n.total),x(t.pagination),le.grid.setRowData([]),setTimeout((function(){le.column.autoSizeAllColumns(),le.grid.hideOverlay(),t.data.length||le.grid.showNoRowsOverlay()}),100),[2]}))},new((n=void 0)||(n=Promise))((function(e,a){function i(e){try{o(s.next(e))}catch(e){a(e)}}function r(e){try{o(s.throw(e))}catch(e){a(e)}}function o(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(i,r)}o((s=s.apply(t,l||[])).next())}));var t,l,n,s})).catch((function(e){(0,b.Sx)(e.message,"error"),a.successCallback([],0)}))}};le.grid&&le.grid.setDatasource(a)};return(0,l.jsxs)("div",W({className:""},{children:[(0,l.jsxs)("div",W({className:"flex  justify-between flex-col sm:flex-row"},{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",W({className:"subheading"},{children:"List of Employees"})),(0,l.jsx)("hr",{className:"w-32 md:w-full line"}),(0,l.jsxs)("p",W({className:"text-xs font-onestRegular mt-1 font-normal text-shadeDarkBlue"},{children:[null==h?void 0:h.total," Employees"]}))]}),(0,l.jsxs)("div",W({className:" flex-none h-9 flex mt-4 lg:mt-0 gap-4 filters"},{children:[(0,l.jsx)(f.A,{handleClick:function(){u(!o)},text:"Filter",icon:(0,l.jsx)("img",{src:"/assets/icons/filterIcon.svg",alt:"",className:"w-1/2"}),classes:"bg-none border border-black text-black w-fit px-4"}),(0,b.OQ)("employees","is_update")?(0,l.jsx)(f.A,{handleClick:function(){S({email:""}),P(!0)},text:"Add Employee",icon:(0,l.jsx)("img",{src:"/assets/icons/plusIcon.svg",alt:"plus"}),classes:"bg-darkshadeBlue text-white w-fit px-6"}):(0,l.jsx)(l.Fragment,{})]}))]})),o?(0,l.jsxs)("div",W({className:"w-full flex flex-col lg:flex-row gap-4 items-center mt-4 filters"},{children:[(0,l.jsx)("div",W({className:"w-full lg:w-2/12"},{children:(0,l.jsx)(T.A,{width:"100%",options:[{name:"REQUESTED"},{name:"NOT_REQUESTED"},{name:"DISABLE"},{name:"ACTIVE"}],handleChange:se,value:null==v?void 0:v.status,label:"Status",name:"status"})}))," ",(0,l.jsx)(L.U,{label:"Date Created",onChange:function(e){var t=e[0],a=e[1];J(t),te(a);var l=r()(t).format("YYYY-MM-DD"),n=r()(a).format("YYYY-MM-DD");N(W(W({},v),{from:l,to:n}))},startDate:X,endDate:ee}),(0,l.jsx)("div",W({className:"w-full lg:w-3/12"},{children:(0,l.jsx)(z.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==v?void 0:v.search,handleChange:se,label:"Search",name:"search"})})),(0,l.jsxs)("div",W({className:"w-full lg:w-3/12 flex pl-6 justify-end lg:justify-start items-center gap-2"},{children:[(0,l.jsx)(f.A,{disabled:(0,b.a8)(v)<1,handleClick:function(){re(v)},text:"Apply",classes:"bg-darkshadeBlue text-white w-fit px-4 py-2"}),(0,l.jsx)("button",W({disabled:(0,b.a8)(v)<1,className:"w-fit px-2 py-1 border ".concat((0,b.a8)(v)>=1?"border-black cursor-pointer":"border-[#bbbbbb]","  "),onClick:function(){J(""),te(""),N(a),re(a)}},{children:(0,l.jsx)("img",{src:(0,b.a8)(v)>=1?"/assets/icons/refreshIcon.svg":"/assets/icons/disableReset.svg",alt:""})}))]}))]})):null,(0,l.jsx)("div",W({className:"mt-6"},{children:(0,l.jsx)("div",W({className:"ag-theme-alpine",style:{height:"70vh"}},{children:(0,l.jsx)(s.AgGridReact,W({rowModelType:"infinite",columnDefs:t,onGridReady:function(e){ne({grid:e.api,column:e.columnApi}),e.columnApi.autoSizeAllColumns()},enableCellTextSelection:!0,ensureDomOrder:!0,onFirstDataRendered:function(){le.column&&le.column.autoSizeAllColumns()},gridOptions:{defaultColDef:{maxWidth:500}}},e))}))})),(0,l.jsx)(_,{open:null==V?void 0:V.addEmployee,handleClose:function(){ie("addEmployee")},handleAddRecord:function(){var e=W({},V);e.addEmployee=!1,e.addRecord=!0,Q(e)}}),(0,l.jsx)(I,{open:null==V?void 0:V.addRecord,handleClose:function(){ie("addRecord")},handleUploadFile:function(){var e=W({},V);e.addRecord=!1,e.fileUploader=!0,Q(e)}}),(0,l.jsx)(R,{open:null==V?void 0:V.fileUploader,handleClose:function(){ie("fileUploader")},refresh:function(){return re(v)}}),(0,l.jsxs)(d.A,W({open:B,TransitionComponent:H,keepMounted:!0,onClose:ie,"aria-describedby":"alert-dialog-slide-description"},{children:[(0,l.jsx)(m.A,{children:"Add New Employee?"}),(0,l.jsx)(c.A,{children:(0,l.jsx)("form",W({className:"flex flex-col gap-4 mt-2"},{children:(0,l.jsx)(z.A,{rows:1,width:"w-[400px]",disabled:!1,readOnly:!1,handleChange:function(e){var t,a=e.target,l=a.name,n=a.value;S(W(W({},k),((t={})[l]=n,t))),F({email:""})},value:null==k?void 0:k.email,error:!!(null==A?void 0:A.email),helperText:(null==A?void 0:A.email)||"Please Enter AD user email to fetch and store business information",label:"Official Email",name:"email"})}))}),(0,l.jsxs)(q.A,{children:[(0,l.jsx)(f.A,W({loading:G,handleClick:ie,text:"Cancel",classes:"bg-none border text-black border-black w-fit px-4   py-2"},{children:(0,l.jsx)("p",W({className:"px-5"},{children:"Cancel"}))})),(0,l.jsx)(f.A,{loading:G,handleClick:function(){var e=k,t=new(y())(e,{email:"required|email|max:225"});if(t.fails()){var a={};return Object.keys(t.errors.errors).forEach((function(e){a[e]=t.errors.errors[e][0]})),F(a),!1}Y(!0),j.S.post("/employees",k).then((function(e){(0,b.Sx)(e.data.message,"success"),re(v),P(!1),Y(!1)})).catch((function(e){Y(!1),(0,b.Sx)(null==e?void 0:e.message,"error")}))},text:G?"Loading...":"Submit",classes:"bg-darkshadeBlue text-white w-fit px-6  py-2"})]})]}))]}))}},35642:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(74848),n=a(96540),s=a(55446),i=function(){return i=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};const r=function(e){var t=e.id,a=e.label,r=e.acceptMimeTypes,o=void 0===r?["application/x-zip-compressed","application/zip","application/x-rar-compressed","image/png","image/jpeg","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]:r,d=e.setImage,c=e.title,u=void 0===c?"Drag and Drop PDF here":c,p=e.maxSize,m=void 0===p?5:p,h=e.imageUrl,f=void 0===h?"":h,x=e.styleType,g=void 0===x?"lg":x,v=e.filename,y=e.previewData,j=void 0===y?"":y,b=(e.name,e.setPreviewMeta),w=e.removeImage,N=e.error,C=e.type,k=void 0===C?"image":C,S=(0,n.useState)(!1),D=S[0],A=S[1],F=(0,n.useState)(!1),R=F[0],E=F[1],B=(0,n.useState)({name:"",url:"",type:""}),I=B[0],O=B[1],P={FileDefault:"/assets/images/FileDefault.svg",FileUploadIcon:"/assets/images/FileUploadIcon.svg",FileUploaded:"/assets/images/FileUploaded.svg",xls:"/assets/images/xls.svg"};(0,n.useEffect)((function(){(null==f?void 0:f.startsWith("data:"))&&(O({name:"userImage",url:f,type:"image/png"}),A(!0)),j&&(O(j),A(!0)),f||j||(O({name:"",url:"",type:""}),A(!1))}),[j,f]);var U=function(e){var t=function(e){var t=Number(m)*Math.pow(1024,2);return(null==e?void 0:e.size)>t?(s.oR.error("File Size Exceeds the ".concat(m," MB"),{position:s.oR.POSITION.TOP_RIGHT}),!1):!!o.includes(e.type)||(s.oR.error("Unsupported file selected!",{position:s.oR.POSITION.TOP_RIGHT}),!1)}(e);if(t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){var t={name:e.name,url:a.result,type:e.type};O(t),b&&b(t),A(!0),E(!0),d({url:a.result||"",name:v,file:e,preview:t})}}},_=function(e){if(e.preventDefault(),e.stopPropagation(),"dragover"===e.type&&E(!0),"dragleave"===e.type&&E(!1),"drop"===e.type){var t=e.dataTransfer.files[0];U(t)}};return(0,l.jsxs)("div",i({className:"relative file-upload-box w-full h-fit ".concat(N&&"file-upload-error"," ").concat(R?"file-upload-active":"")},{children:[D?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",i({className:"flex justify-center flex-col items-center ".concat("md"===g?"hidden":"block")},{children:[(0,l.jsx)("img",{src:null==P?void 0:P.FileUploaded,alt:""}),(0,l.jsx)("p",i({className:"text-shadeDarkBlue text-center pt-4 font-bold"},{children:"Uploaded!"}))]})),(0,l.jsxs)("div",i({className:"flex justify-between items-center ".concat("md"===g?"pt-0":"pt-6")},{children:[(0,l.jsxs)("div",i({className:"flex justify-center items-center space-x-6"},{children:[(0,l.jsx)("img",{src:I.url,alt:"",className:"w-[50px] h-[50px]",onError:function(e){e.target.src=null==P?void 0:P.FileUploaded}}),(0,l.jsx)("p",i({className:"text-shadeDarkBlue text-sm"},{children:I.name.length>10?(0,l.jsxs)(l.Fragment,{children:[I.name.substring(0,10),"..."]}):(0,l.jsx)(l.Fragment,{children:I.name})}))]})),(0,l.jsx)("div",{children:(0,l.jsx)("button",i({onClick:function(){A(!1),E(!1),w&&w("")},type:"button",className:"cancel-btn flex cursor-pointer justify-center items-center rounded-lg"},{children:"Remove"}))})]}))]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",i({htmlFor:t,className:"cursor-pointer ".concat("md"===g?"hidden":"block"),onDragOver:function(e){return _(e)},onDragLeave:function(e){_(e)},onDrop:function(e){_(e)}},{children:[(0,l.jsx)("img",{src:"image"===k?null==P?void 0:P.FileDefault:P.xls,className:"mx-auto",alt:""}),(0,l.jsx)("p",i({className:"text-center font-bold text-shadeDarkBlue text-lg pt-2"},{children:u}))]})),(0,l.jsx)("div",{children:(0,l.jsxs)("div",i({className:"flex justify-between items-center ".concat("md"===g?"pt-0":"pt-6")},{children:[(0,l.jsxs)("div",i({className:"flex justify-center items-center space-x-0 lg:space-x-6"},{children:[(0,l.jsx)("div",i({className:"hidden lg:block"},{children:(0,l.jsx)("img",{src:null==P?void 0:P.FileUploadIcon,alt:"",className:"w-[25px] h-[24px]"})})),(0,l.jsxs)("div",i({className:"text-Kimberly flex flex-col text-sm label-sec"},{children:[(0,l.jsx)("p",{children:a}),(0,l.jsxs)("p",i({className:"pt-2"},{children:["Maximum Size: ",m," Mb"]}))]}))]})),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"file",id:t,onChange:function(e){e.preventDefault();var t=e.target.files[0];U(t)},accept:o.toString(),className:"hidden"}),(0,l.jsx)("div",i({className:"upload-btn flex cursor-pointer justify-center items-center rounded-lg",id:t,onClick:function(e){return function(e){e.preventDefault();var a=document.getElementById(t);a&&a.click()}(e)}},{children:(0,l.jsx)("p",{children:"Choose File"})}))]})]}))})]}),N&&(0,l.jsx)("p",i({className:"absolute -bottom-6 ml-3 text-red-600 text-xs"},{children:N}))]}))}}}]);