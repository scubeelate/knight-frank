"use strict";(self.webpackChunkscube_v4=self.webpackChunkscube_v4||[]).push([[942],{27558:(e,n,t)=>{t.d(n,{A:()=>z});var a=t(98587),r=t(58168),o=t(96540),i=t(34164),l=t(75659),s=t(771),c=t(55860),d=t(75003),u=t(74848);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var f=t(28466),m=t(15607),b=t(11848),x=t(39770),g=t(38413),w=t(31609);function k(e){return(0,w.Ay)("MuiCheckbox",e)}const y=(0,g.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),A=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],j=(0,b.Ay)(c.A,{shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.indeterminate&&n.indeterminate,n[`size${(0,f.A)(t.size)}`],"default"!==t.color&&n[`color${(0,f.A)(t.color)}`]]}})((({theme:e,ownerState:n})=>(0,r.A)({color:(e.vars||e).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===n.color?e.vars.palette.action.activeChannel:e.vars.palette[n.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.X4)("default"===n.color?e.palette.action.active:e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${y.checked}, &.${y.indeterminate}`]:{color:(e.vars||e).palette[n.color].main},[`&.${y.disabled}`]:{color:(e.vars||e).palette.action.disabled}}))),C=(0,u.jsx)(p,{}),S=(0,u.jsx)(h,{}),_=(0,u.jsx)(v,{}),z=o.forwardRef((function(e,n){var t,s;const c=(0,m.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=C,color:h="primary",icon:p=S,indeterminate:v=!1,indeterminateIcon:b=_,inputProps:x,size:g="medium",className:w}=c,y=(0,a.A)(c,A),z=v?b:p,P=v?b:d,N=(0,r.A)({},c,{color:h,indeterminate:v,size:g}),O=(e=>{const{classes:n,indeterminate:t,color:a,size:o}=e,i={root:["root",t&&"indeterminate",`color${(0,f.A)(a)}`,`size${(0,f.A)(o)}`]},s=(0,l.A)(i,k,n);return(0,r.A)({},n,s)})(N);return(0,u.jsx)(j,(0,r.A)({type:"checkbox",inputProps:(0,r.A)({"data-indeterminate":v},x),icon:o.cloneElement(z,{fontSize:null!=(t=z.props.fontSize)?t:g}),checkedIcon:o.cloneElement(P,{fontSize:null!=(s=P.props.fontSize)?s:g}),ownerState:N,ref:n,className:(0,i.A)(O.root,w)},y,{classes:O}))}))},55860:(e,n,t)=>{t.d(n,{A:()=>k});var a=t(98587),r=t(58168),o=t(96540),i=t(34164),l=t(75659),s=t(28466),c=t(11848),d=t(39770),u=t(41381),h=t(79716),p=t(33166),v=t(38413),f=t(31609);function m(e){return(0,f.Ay)("PrivateSwitchBase",e)}(0,v.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var b=t(74848);const x=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],g=(0,c.Ay)(p.A)((({ownerState:e})=>(0,r.A)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),w=(0,c.Ay)("input",{shouldForwardProp:d.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),k=o.forwardRef((function(e,n){const{autoFocus:t,checked:o,checkedIcon:c,className:d,defaultChecked:p,disabled:v,disableFocusRipple:f=!1,edge:k=!1,icon:y,id:A,inputProps:j,inputRef:C,name:S,onBlur:_,onChange:z,onFocus:P,readOnly:N,required:O=!1,tabIndex:B,type:F,value:I}=e,E=(0,a.A)(e,x),[R,M]=(0,u.A)({controlled:o,default:Boolean(p),name:"SwitchBase",state:"checked"}),$=(0,h.A)();let q=v;$&&void 0===q&&(q=$.disabled);const D="checkbox"===F||"radio"===F,V=(0,r.A)({},e,{checked:R,disabled:q,disableFocusRipple:f,edge:k}),H=(e=>{const{classes:n,checked:t,disabled:a,edge:r}=e,o={root:["root",t&&"checked",a&&"disabled",r&&`edge${(0,s.A)(r)}`],input:["input"]};return(0,l.A)(o,m,n)})(V);return(0,b.jsxs)(g,(0,r.A)({component:"span",className:(0,i.A)(H.root,d),centerRipple:!0,focusRipple:!f,disabled:q,tabIndex:null,role:void 0,onFocus:e=>{P&&P(e),$&&$.onFocus&&$.onFocus(e)},onBlur:e=>{_&&_(e),$&&$.onBlur&&$.onBlur(e)},ownerState:V,ref:n},E,{children:[(0,b.jsx)(w,(0,r.A)({autoFocus:t,checked:o,defaultChecked:p,className:H.input,disabled:q,id:D?A:void 0,name:S,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const n=e.target.checked;M(n),z&&z(e,n)},readOnly:N,ref:C,required:O,ownerState:V,tabIndex:B,type:F},"checkbox"===F&&void 0===I?{}:{value:I},j)),R?c:y]}))}))},88942:(e,n,t)=>{t.d(n,{A:()=>w});var a=t(74848),r=t(96540),o=t(77064),i=t(50461),l=t(47767),s=t(80771),c=t(89856),d=t(1315),u=t(20114),h=t(59408),p=t(30157),v=t(46775),f=t(2896),m=function(){return m=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},m.apply(this,arguments)},b=function(e,n,t,a){return new(t||(t=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}s((a=a.apply(e,n||[])).next())}))},x=function(e,n){var t,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(t=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(e){l=[6,e],a=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},g={name:"",email:"",phone:"",role_id:"",is_active:"Active",mark_as_exit:!1};const w=function(){var e=(0,f.d4)((function(e){return e.app_central_store})),n=e.serverPublicKey,t=e.clientPrivateKey,w=(0,r.useState)(g),k=w[0],y=w[1],A=(0,r.useState)(!1),j=A[0],C=A[1],S=(0,r.useState)(g),_=S[0],z=S[1],P=(0,r.useState)([]),N=P[0],O=P[1],B=(0,r.useState)(!0),F=(B[0],B[1],(0,l.Zp)()),I=(0,l.g)().id,E=function(e){var n=e.target,t=n.value,a=n.name,r=n.type,o=n.checked,i=m({},k);z(""),i[a]="checkbox"===r?o:t,y(i)};return(0,r.useEffect)((function(){h.S.get("roles/dropdown").then((function(e){var n;O(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.data)})).catch((function(e){})),I&&function(e){h.S.get("users/".concat(e)).then((function(e){return b(void 0,void 0,void 0,(function(){var n,a,r,o,l,s,c,d;return x(this,(function(u){switch(u.label){case 0:return n=null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.data,[4,(0,i.ch)(null==e?void 0:e.data.x_key,t)];case 1:return a=u.sent(),r=n,o="name",[4,(0,i.rX)(n.name,a)];case 2:return r[o]=u.sent(),l=n,s="phone",[4,(0,i.rX)(n.phone,a)];case 3:return l[s]=u.sent(),c=m(m({},n),{is_active:(null==n?void 0:n.is_active)?"Active":"Disable"}),y(c),[2]}}))}))})).catch((function(e){(0,s.Sx)(e.message,"error")}))}((0,i.af)(I))}),[I]),(0,a.jsxs)("div",m({className:""},{children:[(0,a.jsxs)("div",m({className:"w-full bg-white p-6"},{children:[(0,a.jsx)(c.A,{heading:"User Details"}),(0,a.jsxs)("div",m({className:"grid grid-cols-2 gap-6 py-8"},{children:[(0,a.jsx)(p.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==k?void 0:k.name,handleChange:E,label:"Enter Name",name:"name",helperText:null==_?void 0:_.name,error:!!(null==_?void 0:_.name)}),(0,a.jsx)(p.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==k?void 0:k.email,handleChange:E,label:"Email ID",name:"email",helperText:null==_?void 0:_.email,error:null==_?void 0:_.email}),(0,a.jsx)(p.A,{rows:1,width:"w-full",disabled:!1,readOnly:!1,value:null==k?void 0:k.phone,handleChange:E,label:"Phone Number",name:"phone",helperText:null==_?void 0:_.phone,error:null==_?void 0:_.phone}),(0,a.jsx)(d.A,{width:"100%",options:N,value:null==k?void 0:k.role_id,handleChange:E,label:"User Role",name:"role_id",helperText:null==_?void 0:_.role_id,error:null==_?void 0:_.role_id}),(0,a.jsx)(d.A,{width:"100%",options:[{id:"Active",name:"Active"},{id:"Disable",name:"Disable"}],value:null==k?void 0:k.is_active,handleChange:E,label:"User Status",name:"is_active"}),I&&"Disable"===(null==k?void 0:k.is_active)?(0,a.jsx)("div",m({className:"flex gap-6 p-4 w-full border border-[#E5E7EB] hover:border-[#000000] px-4"},{children:(0,a.jsx)(v.A,{Label:"Mark As Exist",isChecked:null==k?void 0:k.mark_as_exit,handleCheck:E,name:"mark_as_exit"})})):""]}))]})),(0,s.OQ)("users","is_write")||(0,s.OQ)("users","is_update")?(0,a.jsxs)("div",m({className:"w-full flex justify-end items-center gap-4 pt-6"},{children:[(0,a.jsx)(u.A,{loading:j,handleClick:function(){F("/admin/user-settings/users")},text:"Cancel",classes:"bg-none border text-black border-black w-fit px-4   py-2"}),(0,a.jsx)(u.A,{loading:j,handleClick:function(){return b(void 0,void 0,void 0,(function(){var e,t,a,r,l,c,d,u;return x(this,(function(p){switch(p.label){case 0:return k.phone&&!(0,s.Q7)(k.phone)?(z(m(m({},_),{phone:"Please Enter Valid No"})),[2]):(e={name:"required|max:150",email:"required|max:150|email",phone:"required|max:13",role_id:"required|integer",is_active:"required"},/^[a-zA-Z0-9\s]+$/.test(k.name)?"object"==typeof(t=(0,o.M)(k,e))?(z(t),[2]):(C(!0),a=m(m({},k),{is_active:"Active"===(null==k?void 0:k.is_active)?1:0,mark_as_exit:!0===(null==k?void 0:k.mark_as_exit)?1:0}),r=I?"users/".concat((0,i.af)(I)):"users",l=m({},a),[4,(0,i.cd)()]):(z(m(m({},_),{name:"Invalid Name"})),[2]));case 1:return c=p.sent(),[4,(0,i.ei)(c,n)];case 2:return d=p.sent(),u=["name","phone"].map((function(e){return b(void 0,void 0,void 0,(function(){var n,t;return x(this,(function(a){switch(a.label){case 0:return l[e]?(n=l,t=e,[4,(0,i.yd)(l[e],c)]):[3,2];case 1:n[t]=a.sent(),a.label=2;case 2:return[2]}}))}))})),[4,Promise.all(u)];case 3:return p.sent(),(I?h.S.put(r,l,{headers:{"Encrypted-Key":d}}):h.S.post(r,l,{headers:{"Encrypted-Key":d}})).then((function(e){y(g),(0,s.Sx)(e.data.message,"success"),F("/admin/user-settings/users")})).catch((function(e){(0,s.Sx)(null==e?void 0:e.message,"error")})).finally((function(){C(!1)})),[2]}}))}))},text:"Submit Details",classes:"bg-darkshadeBlue text-white w-fit px-20   py-2"})]})):(0,a.jsx)(a.Fragment,{})]}))}},89856:(e,n,t)=>{t.d(n,{A:()=>o});var a=t(74848),r=function(){return r=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},r.apply(this,arguments)};const o=function(e){var n=e.heading;return(0,a.jsx)("div",r({className:"w-full bg-lightshadedGray p-3 text-black font-bold text-lg"},{children:n}))}},46775:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(74848),r=t(27558),o=t(59665),i=function(){return i=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},i.apply(this,arguments)},l={inputProps:{"aria-label":"Checkbox demo"}},s=(0,o.A)((function(){return{root:{padding:0,"&:hover":{backgroundColor:"rgba(0, 133, 255, 0.1) !important"}}}}));const c=function(e){var n=e.defaultChecked,t=e.handleCheck,o=e.isChecked,c=e.Label,d=e.name,u=e.color,h=e.readonly,p=s();return(0,a.jsxs)("div",i({className:"flex items-center"},{children:[(0,a.jsx)(r.A,i({icon:(0,a.jsx)("svg",i({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("rect",{x:"0.75",y:"0.75",width:"18.5",height:"18.5",rx:"0",stroke:"#3C567E"})})),checkedIcon:(0,a.jsxs)("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},{children:[(0,a.jsx)("rect",{x:"0.75",y:"0.75",width:"20",height:"20",rx:"0",ry:"0",fill:"#1976d2"}),(0,a.jsx)("path",{fill:"#FFF",d:"M7 10l2 2 5-5 1.5 1.5-6.5 6.5-3.5-3.5 1-1z"})]})),sx:{"& .MuiSvgIcon-root":{fontSize:70,borderRadius:20}},disabled:h,name:d,id:c,checked:o,className:p.root,defaultValue:n},l,{onChange:t})),(0,a.jsx)("label",i({className:" ml-2  break-word sm:text-sm text-xs   ".concat(o?"text-WaterBlue":"".concat(u))},{children:c}))]}))}},77064:(e,n,t)=>{t.d(n,{M:()=>r});var a=t(29729),r=function(e,n,t){void 0===t&&(t={});var r=new a(e,n,t);if(r.fails()){var o={};for(var i in r.errors.errors)o[i]=r.errors.errors[i][0];return o}return!0}}}]);